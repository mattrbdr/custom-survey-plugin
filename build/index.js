(()=>{var e,t={247:()=>{"use strict";const e=window.React,t=window.wp.blocks,r=window.wp.i18n,n=window.wp.blockEditor,l=window.wp.components,o=window.wp.data;function i(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}(0,t.registerBlockType)("custom-survey-plugin/survey-block",{title:(0,r.__)("Survey Block","custom-survey-plugin"),icon:"chart-bar",category:"widgets",attributes:{surveyId:{type:"string",default:""},showResponses:{type:"boolean",default:!1},showQuestions:{type:"boolean",default:!1},showParticipants:{type:"boolean",default:!1},filterQuestion:{type:"string",default:""},showFilterQuestion:{type:"boolean",default:!1},filterParticipant:{type:"string",default:""},showFilterParticipant:{type:"boolean",default:!1},filterAttribute:{type:"string",default:""},showFilterAttribute:{type:"boolean",default:!1},layout:{type:"string",default:"list"}},edit:({attributes:t,setAttributes:a})=>{const{surveyId:s,showResponses:u,showQuestions:c,showParticipants:h,filterQuestion:p,showFilterQuestion:d,filterParticipant:g,showFilterParticipant:v,filterAttribute:f,showFilterAttribute:m,layout:y}=t,{surveys:b,isLoading:w,questions:_,responses:C,participants:E,attributes:k}=(0,o.useSelect)((e=>{const t={per_page:-1,orderby:"date",order:"desc"},r=e("core").getEntityRecords("postType","survey",t);return{surveys:r,isLoading:!r,questions:s?e("core").getEntityRecords("postType","question",{...t,meta_key:"_survey_id",meta_value:s}):[],responses:s?e("core").getEntityRecords("postType","response",{...t,meta_key:"_survey_id",meta_value:s}):[],participants:s?e("core").getEntityRecords("postType","participant",{...t,meta_key:"_survey_id",meta_value:s}):[],attributes:e("core").getEntityRecords("taxonomy","attribute",{parent:0})}}),[s]),A=b?b.map((e=>({label:i(e.title.rendered),value:e.id}))):[],S=[{label:(0,r.__)("List","custom-survey-plugin"),value:"list"},{label:(0,r.__)("Grid","custom-survey-plugin"),value:"grid"}],x=_?_.filter((e=>e.title.rendered.toLowerCase().includes(p.toLowerCase()))):[],F=k?k.map((e=>({label:i(e.name),value:e.id}))):[];return(0,e.createElement)("div",{...(0,n.useBlockProps)()},(0,e.createElement)(n.InspectorControls,null,(0,e.createElement)(l.PanelBody,{title:(0,r.__)("Survey Settings","custom-survey-plugin")},w?(0,e.createElement)(l.Spinner,null):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(l.SelectControl,{label:(0,r.__)("Select a Survey","custom-survey-plugin"),value:s,options:[{label:(0,r.__)("Select a Survey","custom-survey-plugin"),value:""},...A],onChange:e=>a({surveyId:e})}),s&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(l.ToggleControl,{label:(0,r.__)("Show Questions","custom-survey-plugin"),checked:c,onChange:e=>a({showQuestions:e})}),(0,e.createElement)(l.ToggleControl,{label:(0,r.__)("Show Responses","custom-survey-plugin"),checked:u,onChange:e=>a({showResponses:e})}),(0,e.createElement)(l.ToggleControl,{label:(0,r.__)("Show Participants","custom-survey-plugin"),checked:h,onChange:e=>a({showParticipants:e})}),(0,e.createElement)(l.ToggleControl,{label:(0,r.__)("Show Filter Question","custom-survey-plugin"),checked:d,onChange:e=>a({showFilterQuestion:e})}),(0,e.createElement)(l.ToggleControl,{label:(0,r.__)("Show Filter Participant","custom-survey-plugin"),checked:v,onChange:e=>a({showFilterParticipant:e})}),(0,e.createElement)(l.ToggleControl,{label:(0,r.__)("Show Filter Attribute","custom-survey-plugin"),checked:m,onChange:e=>a({showFilterAttribute:e})}),(0,e.createElement)(l.TextControl,{label:(0,r.__)("Filter Questions","custom-survey-plugin"),value:p,onChange:e=>a({filterQuestion:e})}),(0,e.createElement)(l.SelectControl,{label:(0,r.__)("Layout","custom-survey-plugin"),value:y,options:S,onChange:e=>a({layout:e})}))))),(0,e.createElement)(l.Placeholder,{icon:"chart-bar",label:(0,r.__)("Survey Block Editor","custom-survey-plugin"),instructions:(0,r.__)("Select a survey from the settings.","custom-survey-plugin")},s&&(0,e.createElement)(e.Fragment,null,c&&x&&(0,e.createElement)("div",null,(0,e.createElement)("h3",null,(0,r.__)("Questions:","custom-survey-plugin")),(0,e.createElement)("ul",null,x.map((t=>(0,e.createElement)("li",{key:t.id},i(t.title.rendered)))))),u&&C&&(0,e.createElement)("div",null,(0,e.createElement)("h3",null,(0,r.__)("Responses:","custom-survey-plugin")),(0,e.createElement)("ul",null,C.map((t=>(0,e.createElement)("li",{key:t.id},i(t.title.rendered)))))),h&&E&&(0,e.createElement)("div",null,(0,e.createElement)("h3",null,(0,r.__)("Participants:","custom-survey-plugin")),(0,e.createElement)("ul",null,E.map((t=>(0,e.createElement)("li",{key:t.id},i(t.title.rendered)))))),m&&(0,e.createElement)("div",null,(0,e.createElement)("h3",null,(0,r.__)("Filter Attributes:","custom-survey-plugin")),(0,e.createElement)(l.SelectControl,{value:f,options:[{label:(0,r.__)("Select an Attribute","custom-survey-plugin"),value:""},...F],onChange:e=>a({filterAttribute:e})})))))},save:({attributes:t})=>{const{surveyId:r,showQuestions:l,showResponses:o,showParticipants:i,filterQuestion:a,showFilterQuestion:s,filterParticipant:u,showFilterParticipant:c,filterAttribute:h,showFilterAttribute:p,layout:d}=t;return(0,e.createElement)("div",{...n.useBlockProps.save()},(0,e.createElement)("div",{className:`survey-block layout-${d}`,"data-survey-id":r,"data-show-questions":l,"data-show-responses":o,"data-show-participants":i,"data-show-filter-question":s,"data-filter-question":a,"data-show-filter-participant":c,"data-filter-participant":u,"data-show-filter-attribute":p,"data-filter-attribute":h}))}})},612:(e,t,r)=>{const n=r(192),l=r(975);e.exports={...n,entry:l.resolve("/","src/blocks/index.js"),output:{path:l.resolve("/","build"),filename:"index.js"},resolve:{fallback:{path:975}}}},975:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",l=0,o=-1,i=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o===a-1||1===i);else if(o!==a-1&&2===i){if(n.length<2||2!==l||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var s=n.lastIndexOf("/");if(s!==n.length-1){-1===s?(n="",l=0):l=(n=n.slice(0,s)).length-1-n.lastIndexOf("/"),o=a,i=0;continue}}else if(2===n.length||1===n.length){n="",l=0,o=a,i=0;continue}t&&(n.length>0?n+="/..":n="..",l=2)}else n.length>0?n+="/"+e.slice(o+1,a):n=e.slice(o+1,a),l=a-o-1;o=a,i=0}else 46===r&&-1!==i?++i:i=-1}return n}var n={resolve:function(){for(var e,n="",l=!1,o=arguments.length-1;o>=-1&&!l;o--){var i;o>=0?i=arguments[o]:(void 0===e&&(e=process.cwd()),i=e),t(i),0!==i.length&&(n=i+"/"+n,l=47===i.charCodeAt(0))}return n=r(n,!l),l?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),l=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&l&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var l=arguments[r];t(l),l.length>0&&(void 0===e?e=l:e+="/"+l)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r)return"";if((e=n.resolve(e))===(r=n.resolve(r)))return"";for(var l=1;l<e.length&&47===e.charCodeAt(l);++l);for(var o=e.length,i=o-l,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var s=r.length-a,u=i<s?i:s,c=-1,h=0;h<=u;++h){if(h===u){if(s>u){if(47===r.charCodeAt(a+h))return r.slice(a+h+1);if(0===h)return r.slice(a+h)}else i>u&&(47===e.charCodeAt(l+h)?c=h:0===h&&(c=0));break}var p=e.charCodeAt(l+h);if(p!==r.charCodeAt(a+h))break;47===p&&(c=h)}var d="";for(h=l+c+1;h<=o;++h)h!==o&&47!==e.charCodeAt(h)||(0===d.length?d+="..":d+="/..");return d.length>0?d+r.slice(a+c):(a+=c,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,l=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(r=e.charCodeAt(i))){if(!o){l=i;break}}else o=!1;return-1===l?n?"/":".":n&&1===l?"//":e.slice(0,l)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,l=0,o=-1,i=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var a=r.length-1,s=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!i){l=n+1;break}}else-1===s&&(i=!1,s=n+1),a>=0&&(u===r.charCodeAt(a)?-1==--a&&(o=n):(a=-1,o=s))}return l===o?o=s:-1===o&&(o=e.length),e.slice(l,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!i){l=n+1;break}}else-1===o&&(i=!1,o=n+1);return-1===o?"":e.slice(l,o)},extname:function(e){t(e);for(var r=-1,n=0,l=-1,o=!0,i=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===l&&(o=!1,l=a+1),46===s?-1===r?r=a:1!==i&&(i=1):-1!==r&&(i=-1);else if(!o){n=a+1;break}}return-1===r||-1===l||0===i||1===i&&r===l-1&&r===n+1?"":e.slice(r,l)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,l=e.charCodeAt(0),o=47===l;o?(r.root="/",n=1):n=0;for(var i=-1,a=0,s=-1,u=!0,c=e.length-1,h=0;c>=n;--c)if(47!==(l=e.charCodeAt(c)))-1===s&&(u=!1,s=c+1),46===l?-1===i?i=c:1!==h&&(h=1):-1!==i&&(h=-1);else if(!u){a=c+1;break}return-1===i||-1===s||0===h||1===h&&i===s-1&&i===a+1?-1!==s&&(r.base=r.name=0===a&&o?e.slice(1,s):e.slice(a,s)):(0===a&&o?(r.name=e.slice(1,i),r.base=e.slice(1,s)):(r.name=e.slice(a,i),r.base=e.slice(a,s)),r.ext=e.slice(i,s)),a>0?r.dir=e.slice(0,a-1):o&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n},192:e=>{"use strict";e.exports=window.wp["scripts/config/webpack.config"]}},r={};function n(e){var l=r[e];if(void 0!==l)return l.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,r,l,o)=>{if(!r){var i=1/0;for(c=0;c<e.length;c++){for(var[r,l,o]=e[c],a=!0,s=0;s<r.length;s++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(a=!1,o<i&&(i=o));if(a){e.splice(c--,1);var u=l();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,l,o]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={792:0,85:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var l,o,[i,a,s]=r,u=0;if(i.some((t=>0!==e[t]))){for(l in a)n.o(a,l)&&(n.m[l]=a[l]);if(s)var c=s(n)}for(t&&t(r);u<i.length;u++)o=i[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},r=globalThis.webpackChunkcustom_survey_plugin_block=globalThis.webpackChunkcustom_survey_plugin_block||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.O(void 0,[85],(()=>n(247)));var l=n.O(void 0,[85],(()=>n(612)));l=n.O(l)})();